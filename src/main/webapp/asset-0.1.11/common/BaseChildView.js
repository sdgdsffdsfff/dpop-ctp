/*! 2015 Baidu Inc. All Rights Reserved */
define("common/BaseChildView",["require","common/util","esui/validator/Validity","esui/validator/ValidityState","eoo","ef/UIView"],function(require){function e(e){var t=e.getCategory();return"input"===t||"check"===t}var t=require("common/util"),exports={};exports.getViewData=function(){for(var e={},t=this.getAllInputControls(),i=0;i<t.length;i++){var n=t[i];if("check"!==n.getCategory()||n.isChecked())if(!n.isDisabled()){var a=n.get("name"),r=n.getRawValue();if(e.hasOwnProperty(a))e[a]=[].concat(e[a],r);else e[a]=r}else;else;}return e},exports.setViewData=function(e){t.each(e,function(e,i){var n=t.dasherize(i);this.get(n).set("rawValue",e)},this)},exports.disableInputControls=function(){var e=this.getAllInputControls();t.each(e,function(e){if(t.isFunction(e.disable))e.disable()})},exports.enableInputControls=function(){var e=this.getAllInputControls();t.each(e,function(e){if(t.isFunction(e.enable))e.enable()})},exports.setReadOnly=function(e){var i=this.getAllInputControls();t.each(i,function(i){if(t.isFunction(i.setReadOnly))i.setReadOnly(e)})},exports.notifyErrors=function(e){for(var i=require("esui/validator/Validity"),n=require("esui/validator/ValidityState"),a=0;a<e.length;a++){var r=e[a],o=new n(!1,r.message),s=new i;s.addState("server",o);var l=t.dasherize(r.field),h=this.get(l);if(h)h.showValidity(s)}},exports.validate=function(){for(var e=this.getAllInputControls(),t=!0,i=0;i<e.length;i++){var n=e[i];if(!n.isDisabled())t&=n.validate();else;}return!!t},exports.getAllInputControls=function(){var i=this.viewContext.getControls(),n=[];return t.each(i,function(t){if(e(t))n.push(t)}),n};var i=require("eoo").create(require("ef/UIView"),exports);return i});