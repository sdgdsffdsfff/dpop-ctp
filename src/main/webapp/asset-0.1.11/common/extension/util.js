/*! 2015 Baidu Inc. All Rights Reserved */
define("common/extension/util",["require","underscore","moment","moment/lang/zh-cn","ub-ria/util"],function(require){function e(){i.lang("zh-cn"),t.extend(t,require("ub-ria/util")),t.escapeForRegExp=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},t.colorRGB=function(e,t){t=t||1,e=e.toLowerCase();var i=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;if(e&&i.test(e)){if(4===e.length){for(var n="#",r=1;4>r;r++){var a=n.slice(r,r+1);n+=a+a}e=n}for(var o=[],s=1;7>s;s+=2)o.push(parseInt("0x"+e.slice(s,s+2),16));return"rgba("+o.join(",")+","+t+")"}return e},t.parseDateRanges=function(e){if(!e)throw new Error("No date ranges given");if(e.length%2!==0)throw new Error("Invalid date range length");for(var t=e.length/2,i=[],n=0;t>n;n++)i.push([e[2*n],e[2*n+1]]);return i},t.ellipsis=function(e,t){if(2*e.length<=t)return e;for(var i=0,n="",r=0;r<e.length;r++){if(e.charCodeAt(r)>128){if(i+=2,i>t)return n.substring(0,n.length-1)+"..."}else if(i+=1,i>t)return n.substring(0,n.length-2)+"...";n+=e.charAt(r)}return n}}var t=require("underscore"),i=require("moment");return require("moment/lang/zh-cn"),{enable:t.once(e)}});