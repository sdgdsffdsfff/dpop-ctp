/*! 2015 Baidu Inc. All Rights Reserved */
define("common/BaseData",["require","er/util","underscore","ub-ria/mvc/RequestManager"],function(require){function e(){n.apply(this,arguments)}var t=require("er/util"),i=require("underscore"),n=require("ub-ria/mvc/RequestManager");return t.inherits(e,n),e.prototype.search=function(e){return this.request("$entity/search",e,{method:"GET",url:"/$entity"})},e.prototype.list=function(e){return this.request("$entity/list",e,{method:"GET",url:"/$entity/list"})},e.prototype.nakedList=function(e){return this.list(e).then(function(e){return e.data.results||[]})},e.prototype.tree=function(e){return this.request("$entity/tree",e,{method:"GET",url:"/$entity/tree"})},e.prototype.save=function(e){return this.request("$entity/save",e,{method:"POST",url:"/$entity"})},e.prototype.update=function(e){var t=i.omit(e,"id");return this.request("$entity/update",t,{method:"PUT",url:"/$entity/"+e.id})},e.prototype.updateStatus=function(e,t,i){return this.request("$entity/"+e,{ids:i,status:t},{method:"POST",url:"/$entity/status"})},e.prototype.getAdvice=function(e,t,i){return this.request("$entity/"+e+"/advice",{ids:i,status:t},{method:"GET",url:"/$entity/status/advice"})},e.prototype.findById=function(e){return this.request("$entity/findById",null,{method:"GET",url:"/$entity/"+e})},e.prototype.remove=function(e){return this.updateStatus("delete",0,e)},e});