/*! 2015 Baidu Inc. All Rights Reserved */
define("ui/DrawerActionPanel",["require","esui/lib","ef/ActionPanel","eoo","esui"],function(require){function e(e){if(this.helper.isPart(e.target,"close-btn")||e.target.id===this.helper.getId("mask"))this.hide(),this.fire("close"),this.dispose()}function t(e){this.fire("clickMain",{eventOrigin:e})}function i(e){return e.helper.getPart("mask")||document.body.appendChild(e.helper.createPart("mask"))}function n(){if(!this.helper.getPart("close-btn")){var e=this.main.appendChild(this.helper.createPart("close-btn"),"span");e.title="关闭"}}var r=require("esui/lib"),a=require("ef/ActionPanel"),exports={};exports.type="DrawerActionPanel",exports.initStructure=function(){this.$super(arguments),n.call(this),document.body.appendChild(this.main),this.addState("hidden")},exports.initEvents=function(){this.$super(arguments),this.helper.addDOMEvent(this.main,"click",e),this.on("actionloaded",n)},exports.enterAction=function(){this.action.context.args.isInDrawerPanel=!0,this.$super(arguments)},exports.show=function(){i(this).style.display="block",document.body.style.overflowY="hidden",this.$super(arguments),this.helper.addDOMEvent(this.helper.getPart("mask"),"click",e),this.helper.addDOMEvent(this.main,"click",t)},exports.hide=function(){i(this).style.display="none",document.body.style.overflowY="",this.$super(arguments)},exports.dispose=function(){this.hide(),r.removeNode(this.helper.getId("mask")),r.removeNode(this.main.id),this.$super(arguments)};var o=require("eoo").create(a,exports);return require("esui").register(o),o});