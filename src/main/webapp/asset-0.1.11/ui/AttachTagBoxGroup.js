/*! 2015 Baidu Inc. All Rights Reserved */
define("ui/AttachTagBoxGroup",["require","esui/lib","ui/CustomAbstractBoxGroup","esui/Label","esui/main","common/util","esui/InputControl","esui/painters","esui"],function(require){function e(){a.apply(this,arguments)}function t(e,t){e.helper.clearDOMEvents(),e.helper.disposeChildren(),e.main.innerHTML="",e.children=[],r.each(r.keys(e.childrenIndex),function(t){delete e.childrenIndex[t]});for(var i=0;i<t.length;i++){var a=document.createElement("div");a.classList.add("box-group-container");var o=t[i],s={text:o.text+":",title:o.text},l={boxType:e.boxType,datasource:o.source,alias:o.alias,hasallvalue:e.hasallvalue||null,hasselfset:e.hasselfset||0};if(e.originValue)l.originValue=e.originValue[o.alias];var h=n.create("Label",s),u=n.create("CustomAbstractBoxGroup",l);e.addChild(h),e.addChild(u,u.alias),h.appendTo(a),u.appendTo(a),e.main.appendChild(a)}}var i=require("esui/lib"),n=(require("ui/CustomAbstractBoxGroup"),require("esui/Label"),require("esui/main")),r=require("common/util"),a=require("esui/InputControl");return i.inherits(e,a),e.prototype.type="AttachTagBoxGroup",e.prototype.initOptions=function(e){var t={datasource:[],boxType:"radio"};if(r.extend(t,e),!t.rawValue&&!t.value)t.rawValue=[];this.setProperties(t)},e.prototype.setProperties=function(e){if(!(!e.datasource&&!e.boxType||e.rawValue||e.value||this.rawValue&&this.rawValue.length))e.rawValue=[];var t=a.prototype.setProperties.apply(this,arguments);if(t.hasOwnProperty("rawValue"))this.fire("change")},e.prototype.refresh=function(){t(this,this.datasource,this.boxType)},e.prototype.repaint=require("esui/painters").createRepaint(a.prototype.repaint,{name:["datasource","boxType"],paint:t},{name:"rawValue",paint:function(e,t){t=t||[],e.rawValue=t;var i=r.filter(e.children,function(e){return"CustomAbstractBoxGroup"===e.type});for(var n in t){var a=r.find(i,function(e){return e.alias===n});if(a)a.setValue(t[n])}}}),e.prototype.getRawValue=function(){var e=r.filter(this.children,function(e){return"CustomAbstractBoxGroup"===e.type}),t={};return r.each(e,function(e){t[e.alias]=e.getValue()}),t},e.prototype.setRawValue=function(e){var t=r.filter(this.children,function(e){return"CustomAbstractBoxGroup"===e.type});for(var i in e){var n=r.find(t,function(e){return e.alias===i});if(n)n.setValue(e[i])}},require("esui").register(e),e});