/*! 2015 Baidu Inc. All Rights Reserved */
define("ui/CustomAbstractBoxGroup",["require","esui/lib","common/util","ub-ria/ui/AbstractBoxGroup","esui/InputControl","esui"],function(require){function e(){n.apply(this,arguments)}var t=require("esui/lib"),i=require("common/util"),n=require("ub-ria/ui/AbstractBoxGroup"),r=require("esui/InputControl");return t.inherits(e,n),e.prototype.type="CustomAbstractBoxGroup",e.prototype.setProperties=function(e){if(!(!e.datasource&&!e.boxType||e.rawValue||e.value||this.rawValue&&this.rawValue.length))e.rawValue=[];var t=r.prototype.setProperties.apply(this,arguments);if(t.hasOwnProperty("rawValue")){var n=t.rawValue.newValue,a=t.rawValue.oldValue,o=this.hasallvalue;if("checkbox"==this.boxType&&o&&n&&a&&!parseInt(this.hasselfset)){if(n.indexOf(o)>=0&&a.indexOf(o)<0&&n.length>1||n.length==this.getBoxElements().length-1&&n.indexOf(o)<0||0==n.length)return this.hasselfset=1,this.setValue(o),void(this.hasselfset=0);if(n.indexOf(o)>=0&&a.indexOf(o)>=0)return n.splice(n.indexOf(o),1),this.hasselfset=1,this.setValue(n.join(",")),void(this.hasselfset=0);return}if(this.originValue&&"radio"==this.boxType&&n&&a&&parseInt(this.originValue)>0){var s=(parseInt(this.originValue),i.getIndexOfList(this.datasource,"value",this.originValue));if(s>=0)this.main.children[s].classList.add("origin-value-box");if(this.originValue===n[0])this.main.parentElement.classList.add("origin-equal-value");else if(this.originValue===a[0])this.main.parentElement.classList.remove("origin-equal-value")}this.fire("change")}},require("esui").register(e),e});