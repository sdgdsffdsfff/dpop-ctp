/*! 2015 Baidu Inc. All Rights Reserved */
define("ui/BaseChart",["require","esui/lib","esui/Control","esui/controlHelper","echarts","esui"],function(require){function e(){n.apply(this,arguments)}function t(e){var t=e.chart;t.setOption(e.chartOptions)}var i=require("esui/lib"),n=require("esui/Control"),r=require("esui/controlHelper"),a=require("echarts");i.inherits(e,n),e.prototype.type="BaseChart",e.defaultProperties={height:"300px",datasource:null,width:""},e.prototype.initOptions=function(t){var n={};i.extend(n,e.defaultProperties,t),this.setProperties(n)};var o='<div class="${className}"><div id="${chartId}" style="height:${height}; width: ${width}; margin:0;"></div></div>';return e.prototype.initStructure=function(){var e=r.getId(this,"main"),t={className:r.getPartClasses(this,"frame").join(" "),chartId:e,height:this.get("height")};if(this.get("width"))t.width=this.get("width");this.main.innerHTML=i.format(o,t);var n=a.init(i.g(e));this.chart=n,r.addDOMEvent(this,window,"resize",function(){n.resize()})},e.prototype.repaint=r.createRepaint(n.prototype.repaint,{name:[],paint:function(e){e.chartOptions=e.initChartOptions(),t(e)}}),e.prototype.dispose=function(){if(!r.isInStage(this,"DISPOSED"))n.prototype.dispose.apply(this,arguments)},require("esui").register(e),e});