/*! 2015 Baidu Inc. All Rights Reserved */
define("marker/statistics/rank/ListModel",["require","er/Deferred","common/ListModel","eoo"],function(require){var e=require("er/Deferred"),exports={},t={memberDimenson:function(e){var t={taskId:e.getQuery().taskId,username:null},i=e.data().getTrendInfo(t).then(function(e){return{trendStatisticsList:e.data}});return i}};exports.constructor=function(){this.$super(arguments),this.putDatasource(t)},exports.prepare=function(){this.$super(arguments);var e=this.get("data");e.memberList=e.list.map(function(e){return{text:e.userName,value:e.userName}}),e.memberList.unshift({text:"全部维度",value:null}),this.formataData(this.get("memberDimenson"))},exports.formataData=function(e){var t=this.get("memberDimenson");t.xAxisData=[],t.seriesData=[],e.trendStatisticsList.forEach(function(e){t.xAxisData.push(e.time),t.seriesData.push(e.isDoneAds)})},exports.getQuery=function(){var e={taskId:this.get("taskId")||"",size:this.get("size"),page:this.get("page")||1,order:this.get("order"),orderBy:this.get("orderBy")};return e},exports.refreshDimension=function(t){var i={taskId:this.getQuery().taskId,username:t},n=this;return this.data().getTrendInfo(i).then(function(t){return n.formataData({trendStatisticsList:t.data}),e.resolved()})};var i=require("common/ListModel"),n=require("eoo").create(i,exports);return n});