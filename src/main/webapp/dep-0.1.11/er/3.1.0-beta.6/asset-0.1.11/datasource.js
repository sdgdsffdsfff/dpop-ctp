define("er/datasource",["require","./util","./ajax","./permission"],function(require){var e={};return e.constant=function(e){return function(){return e}},e.remote=function(e,t){return function(i){if(t=require("./util").mix({url:e,dataType:"json"},t),"function"==typeof t.data)t.data=t.data(i);var n=require("./ajax");return n.request(t)}},e.permission=function(e){return function(){var t=require("./permission");return t.isAllow(e)}},e.defaultValue=function(e,t){return function(i,n){if(!n.name&&!t)throw new Error("No property name specified to determine whether value exists in this model");var a=t||n.name;return i.hasValue(a)?i.get(a):e}},e.convertTo=function(e,t){return function(i,n){if(!n.name&&!t)throw new Error("No property name specified to convert");var a=t||n.name,o=i.get(a);switch(e){case"number":return parseInt(o,10);case"string":return o+"";case"boolean":return!!o;default:return o}}},e});