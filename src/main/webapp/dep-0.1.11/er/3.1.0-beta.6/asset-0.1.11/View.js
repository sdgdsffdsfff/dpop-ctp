define("er/View",["require","./util","./Model","etpl","eoo","mini-event/EventTarget"],function(require){var e=require("./util"),exports={};exports.constructor=function(){this.initialize()},exports.initialize=e.noop,exports.template="",exports.getTemplateName=function(){return this.template||""},exports.model=null,exports.container="",exports.getContainerElement=function(){return e.getElement(this.container)||null},exports.getTemplateData=function(){var e=this.model;if(e&&"function"!=typeof e.get){var t=require("./Model");e=new t(e)}var i=function(t){for(var i=t.replace(/\[(\d+)\]/g,".$1").split("."),n=i.shift(),a=e.get(n);a&&(n=i.shift());)a=a[n];return a};return{get:i,relatedModel:e}},exports.render=function(){var e=this.getContainerElement();if(!e){var t=this.model&&"function"==typeof this.model.get&&this.model.get("url");throw new Error("Container not found when rendering "+(t?'"'+t+'"':"view"))}var i=require("etpl"),n=i.render(this.getTemplateName(),this.getTemplateData());e.innerHTML=n,this.enterDocument()},exports.enterDocument=require("./util").noop,exports.dispose=function(){var e=this.getContainerElement();e&&(e.innerHTML="")};var t=require("eoo").create(require("mini-event/EventTarget"),exports);return t});