define("ef/ActionDialog",["require","esui/main","esui/Dialog","./ActionPanel","mini-event","esui/painters","eoo","esui"],function(require){var e=require("esui/main"),t=require("esui/Dialog");require("./ActionPanel");var exports={};exports.type="ActionDialog",exports.styleType="Dialog",exports.setContent=function(){},exports.createBF=function(t,i){if(i)this.content=i.innerHTML;else i=document.createElement("div"),this.main.appendChild(i);this.helper.addPartClasses(t+"-panel",i);var n={main:i},a="Panel";if("body"===t)n.url=this.url,n.actionOptions=this.actionOptions,a="ActionPanel";var o=e.create(a,n);if("body"===t){o.on("actionattach",function(){if(this.resize(),this.autoClose){var e=this.get("action");if("function"==typeof e.on)e.on("handlefinish",!1),e.on("handlefinish",this.dispose,this)}this.fire("actionattach")},this),o.on("*",function(e){if(0===e.type.indexOf("action@"))this.fire(e)},this);var s=require("mini-event");s.delegate(o,this,"actionloaded"),s.delegate(o,this,"actionloadfail"),s.delegate(o,this,"actionloadabort")}return o.render(),this.addChild(o,t),o},exports.repaint=require("esui/painters").createRepaint(t.prototype.repaint,{name:["url","actionOptions"],paint:function(e,t,i){var n=e.getBody(),a={url:t,actionOptions:i};n.setProperties(a)}}),exports.getAction=function(){var e=this.getBody();if(e)return e.get("action");else return null},exports.reload=function(){var e=this.getBody();if(e)e.reload()};var i=require("eoo").create(t,exports);return require("esui").register(i),i});