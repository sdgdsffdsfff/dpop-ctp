define("echarts/component/base",["require","../config","../util/ecData","../util/ecQuery","../util/number","zrender/tool/util","zrender/tool/env"],function(require){function e(e,s,a,r,o){this.ecTheme=e,this.messageCenter=s,this.zr=a,this.option=r,this.series=r.series,this.myChart=o,this.component=o.component,this.shapeList=[],this.effectList=[];var n=this;n._onlegendhoverlink=function(e){if(n.legendHoverLink)for(var s,a=e.target,r=n.shapeList.length-1;r>=0;r--)if(s=n.type==t.CHART_TYPE_PIE||n.type==t.CHART_TYPE_FUNNEL?i.get(n.shapeList[r],"name"):(i.get(n.shapeList[r],"series")||{}).name,s==a&&!n.shapeList[r].invisible&&!n.shapeList[r].__animating)n.zr.addHoverShape(n.shapeList[r])},s&&s.bind(t.EVENT.LEGEND_HOVERLINK,this._onlegendhoverlink)}var t=require("../config"),i=require("../util/ecData"),s=require("../util/ecQuery"),a=require("../util/number"),r=require("zrender/tool/util");return e.prototype={canvasSupported:require("zrender/tool/env").canvasSupported,_getZ:function(e){var i=this.ecTheme[this.type];if(i&&null!=i[e])return i[e];if(i=t[this.type],i&&null!=i[e])return i[e];else return 0},getZlevelBase:function(){return this._getZ("zlevel")},getZBase:function(){return this._getZ("z")},reformOption:function(e){return r.merge(r.merge(e||{},r.clone(this.ecTheme[this.type]||{})),r.clone(t[this.type]||{}))},reformCssArray:function(e){if(e instanceof Array)switch(e.length+""){case"4":return e;case"3":return[e[0],e[1],e[2],e[1]];case"2":return[e[0],e[1],e[0],e[1]];case"1":return[e[0],e[0],e[0],e[0]];case"0":return[0,0,0,0]}else return[e,e,e,e]},getShapeById:function(e){for(var t=0,i=this.shapeList.length;i>t;t++)if(this.shapeList[t].id===e)return this.shapeList[t];return null},getFont:function(e){var t=this.getTextStyle(r.clone(e));return t.fontStyle+" "+t.fontWeight+" "+t.fontSize+"px "+t.fontFamily},getTextStyle:function(e){return r.merge(r.merge(e||{},this.ecTheme.textStyle),t.textStyle)},getItemStyleColor:function(e,t,i,s){return"function"==typeof e?e.call(this.myChart,{seriesIndex:t,series:this.series[t],dataIndex:i,data:s}):e},getDataFromOption:function(e,t){return null!=e?null!=e.value?e.value:e:t},subPixelOptimize:function(e,t){if(t%2===1)e=Math.floor(e)+.5;else e=Math.round(e);return e},resize:function(){this.refresh&&this.refresh(),this.clearEffectShape&&this.clearEffectShape(!0);var e=this;setTimeout(function(){e.animationEffect&&e.animationEffect()},200)},clear:function(){this.clearEffectShape&&this.clearEffectShape(),this.zr&&this.zr.delShape(this.shapeList),this.shapeList=[]},dispose:function(){this.onbeforDispose&&this.onbeforDispose(),this.clear(),this.shapeList=null,this.effectList=null,this.messageCenter&&this.messageCenter.unbind(t.EVENT.LEGEND_HOVERLINK,this._onlegendhoverlink),this.onafterDispose&&this.onafterDispose()},query:s.query,deepQuery:s.deepQuery,deepMerge:s.deepMerge,parsePercent:a.parsePercent,parseCenter:a.parseCenter,parseRadius:a.parseRadius,numAddCommas:a.addCommas},e});