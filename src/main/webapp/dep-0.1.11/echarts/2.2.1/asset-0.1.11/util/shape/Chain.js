define("echarts/util/shape/Chain",["require","zrender/shape/Base","./Icon","zrender/shape/util/dashedLineTo","zrender/tool/util","zrender/tool/matrix"],function(require){function e(e){t.call(this,e)}var t=require("zrender/shape/Base"),i=require("./Icon"),n=require("zrender/shape/util/dashedLineTo"),a=require("zrender/tool/util"),o=require("zrender/tool/matrix");return e.prototype={type:"chain",brush:function(e,t){var i=this.style;if(t)i=this.getHighlightStyle(i,this.highlightStyle||{});e.save(),this.setContext(e,i),this.setTransform(e),e.save(),e.beginPath(),this.buildLinePath(e,i),e.stroke(),e.restore(),this.brushSymbol(e,i),e.restore()},buildLinePath:function(e,t){var i=t.x,a=t.y+5,o=t.width,s=t.height/2-10;if(e.moveTo(i,a),e.lineTo(i,a+s),e.moveTo(i+o,a),e.lineTo(i+o,a+s),e.moveTo(i,a+s/2),!t.lineType||"solid"==t.lineType)e.lineTo(i+o,a+s/2);else if("dashed"==t.lineType||"dotted"==t.lineType){var l=(t.lineWidth||1)*("dashed"==t.lineType?5:1);n(e,i,a+s/2,i+o,a+s/2,l)}},brushSymbol:function(e,t){var n=t.y+t.height/4;e.save();for(var a,o=t.chainPoint,s=0,l=o.length;l>s;s++){if(a=o[s],"none"!=a.symbol){e.beginPath();var r=a.symbolSize;i.prototype.buildPath(e,{iconType:a.symbol,x:a.x-r,y:n-r,width:2*r,height:2*r,n:a.n}),e.fillStyle=a.isEmpty?"#fff":t.strokeColor,e.closePath(),e.fill(),e.stroke()}if(a.showLabel)if(e.font=a.textFont,e.fillStyle=a.textColor,e.textAlign=a.textAlign,e.textBaseline=a.textBaseline,a.rotation)e.save(),this._updateTextTransform(e,a.rotation),e.fillText(a.name,a.textX,a.textY),e.restore();else e.fillText(a.name,a.textX,a.textY)}e.restore()},_updateTextTransform:function(e,t){var i=o.create();if(o.identity(i),0!==t[0]){var n=t[1]||0,a=t[2]||0;if(n||a)o.translate(i,i,[-n,-a]);if(o.rotate(i,i,t[0]),n||a)o.translate(i,i,[n,a])}e.transform.apply(e,i)},isCover:function(e,t){var i=this.style;if(e>=i.x&&e<=i.x+i.width&&t>=i.y&&t<=i.y+i.height)return!0;else return!1}},a.inherits(e,t),e});