define("zrender/loadingEffect/Ring",["require","./Base","../tool/util","../tool/color","../shape/Ring","../shape/Sector"],function(require){function e(e){t.call(this,e)}var t=require("./Base"),i=require("../tool/util"),n=require("../tool/color"),a=require("../shape/Ring"),r=require("../shape/Sector");return i.inherits(e,t),e.prototype._start=function(e,t){var o=i.merge(this.options,{textStyle:{color:"#07a"},backgroundColor:"rgba(250, 250, 250, 0.8)",effect:{x:this.canvasWidth/2,y:this.canvasHeight/2,r0:60,r:100,color:"#bbdcff",brushType:"fill",textPosition:"inside",textFont:"normal 30px verdana",textColor:"rgba(30, 144, 255, 0.6)",timeInterval:100}}),s=o.effect,l=o.textStyle;if(null==l.x)l.x=s.x;if(null==l.y)l.y=s.y+(s.r0+s.r)/2-5;for(var h=this.createTextShape(o.textStyle),d=this.createBackgroundShape(o.backgroundColor),u=s.x,c=s.y,p=s.r0+6,m=s.r-6,f=s.color,g=n.lift(f,.1),y=new a({highlightStyle:i.clone(s)}),V=[],U=n.getGradientColors(["#ff6400","#ffe100","#97ff00"],25),b=15,_=240,v=0;16>v;v++)V.push(new r({highlightStyle:{x:u,y:c,r0:p,r:m,startAngle:_-b,endAngle:_,brushType:"fill",color:g},_color:n.getLinearGradient(u+p*Math.cos(_,!0),c-p*Math.sin(_,!0),u+p*Math.cos(_-b,!0),c-p*Math.sin(_-b,!0),[[0,U[2*v]],[1,U[2*v+1]]])})),_-=b;_=360;for(var v=0;4>v;v++)V.push(new r({highlightStyle:{x:u,y:c,r0:p,r:m,startAngle:_-b,endAngle:_,brushType:"fill",color:g},_color:n.getLinearGradient(u+p*Math.cos(_,!0),c-p*Math.sin(_,!0),u+p*Math.cos(_-b,!0),c-p*Math.sin(_-b,!0),[[0,U[2*v+32]],[1,U[2*v+33]]])})),_-=b;var k=0;if(null!=o.progress){e(d),k=100*this.adjust(o.progress,[0,1]).toFixed(2)/5,y.highlightStyle.text=5*k+"%",e(y);for(var v=0;20>v;v++)V[v].highlightStyle.color=k>v?V[v]._color:g,e(V[v]);return e(h),void t()}return setInterval(function(){e(d),k+=k>=20?-20:1,e(y);for(var i=0;20>i;i++)V[i].highlightStyle.color=k>i?V[i]._color:g,e(V[i]);e(h),t()},s.timeInterval)},e});