define("zrender/tool/curve",["require","./vector"],function(require){function e(e){return e>-m&&m>e}function t(e){return e>m||-m>e}function i(e,t,i,n,r){var a=1-r;return a*a*(a*e+3*r*t)+r*r*(r*n+3*a*i)}function n(e,t,i,n,r){var a=1-r;return 3*(((t-e)*a+2*(i-t)*r)*a+(n-i)*r*r)}function r(t,i,n,r,a,o){var s=r+3*(i-n)-t,l=3*(n-2*i+t),h=3*(i-t),d=t-a,u=l*l-3*s*h,c=l*h-9*s*d,p=h*h-3*l*d,f=0;if(e(u)&&e(c))if(e(l))o[0]=0;else{var m=-h/l;if(m>=0&&1>=m)o[f++]=m}else{var V=c*c-4*u*p;if(e(V)){var U=c/u,m=-l/s+U,b=-U/2;if(m>=0&&1>=m)o[f++]=m;if(b>=0&&1>=b)o[f++]=b}else if(V>0){var _=Math.sqrt(V),v=u*l+1.5*s*(-c+_),x=u*l+1.5*s*(-c-_);if(0>v)v=-Math.pow(-v,y);else v=Math.pow(v,y);if(0>x)x=-Math.pow(-x,y);else x=Math.pow(x,y);var m=(-l-(v+x))/(3*s);if(m>=0&&1>=m)o[f++]=m}else{var k=(2*u*l-3*s*c)/(2*Math.sqrt(u*u*u)),L=Math.acos(k)/3,w=Math.sqrt(u),W=Math.cos(L),m=(-l-2*w*W)/(3*s),b=(-l+w*(W+g*Math.sin(L)))/(3*s),I=(-l+w*(W-g*Math.sin(L)))/(3*s);if(m>=0&&1>=m)o[f++]=m;if(b>=0&&1>=b)o[f++]=b;if(I>=0&&1>=I)o[f++]=I}}return f}function a(i,n,r,a,o){var s=6*r-12*n+6*i,l=9*n+3*a-3*i-9*r,h=3*n-3*i,d=0;if(e(l)){if(t(s)){var u=-h/s;if(u>=0&&1>=u)o[d++]=u}}else{var c=s*s-4*l*h;if(e(c))o[0]=-s/(2*l);else if(c>0){var p=Math.sqrt(c),u=(-s+p)/(2*l),f=(-s-p)/(2*l);if(u>=0&&1>=u)o[d++]=u;if(f>=0&&1>=f)o[d++]=f}}return d}function o(e,t,i,n,r,a){var o=(t-e)*r+e,s=(i-t)*r+t,l=(n-i)*r+i,h=(s-o)*r+o,d=(l-s)*r+s,u=(d-h)*r+h;a[0]=e,a[1]=o,a[2]=h,a[3]=u,a[4]=u,a[5]=d,a[6]=l,a[7]=n}function s(e,t,n,r,a,o,s,l,h,d,u){var c,p=.005,g=1/0;V[0]=h,V[1]=d;for(var y=0;1>y;y+=.05){U[0]=i(e,n,a,s,y),U[1]=i(t,r,o,l,y);var _=f.distSquare(V,U);if(g>_)c=y,g=_}g=1/0;for(var v=0;32>v&&!(m>p);v++){var x=c-p,k=c+p;U[0]=i(e,n,a,s,x),U[1]=i(t,r,o,l,x);var _=f.distSquare(U,V);if(x>=0&&g>_)c=x,g=_;else{b[0]=i(e,n,a,s,k),b[1]=i(t,r,o,l,k);var L=f.distSquare(b,V);if(1>=k&&g>L)c=k,g=L;else p*=.5}}if(u)u[0]=i(e,n,a,s,c),u[1]=i(t,r,o,l,c);return Math.sqrt(g)}function l(e,t,i,n){var r=1-n;return r*(r*e+2*n*t)+n*n*i}function h(e,t,i,n){return 2*((1-n)*(t-e)+n*(i-t))}function d(i,n,r,a,o){var s=i-2*n+r,l=2*(n-i),h=i-a,d=0;if(e(s)){if(t(l)){var u=-h/l;if(u>=0&&1>=u)o[d++]=u}}else{var c=l*l-4*s*h;if(e(c)){var u=-l/(2*s);if(u>=0&&1>=u)o[d++]=u}else if(c>0){var p=Math.sqrt(c),u=(-l+p)/(2*s),f=(-l-p)/(2*s);if(u>=0&&1>=u)o[d++]=u;if(f>=0&&1>=f)o[d++]=f}}return d}function u(e,t,i){var n=e+i-2*t;if(0===n)return.5;else return(e-t)/n}function c(e,t,i,n,r){var a=(t-e)*n+e,o=(i-t)*n+t,s=(o-a)*n+a;r[0]=e,r[1]=a,r[2]=s,r[3]=s,r[4]=o,r[5]=i}function p(e,t,i,n,r,a,o,s,h){var d,u=.005,c=1/0;V[0]=o,V[1]=s;for(var p=0;1>p;p+=.05){U[0]=l(e,i,r,p),U[1]=l(t,n,a,p);var g=f.distSquare(V,U);if(c>g)d=p,c=g}c=1/0;for(var y=0;32>y&&!(m>u);y++){var _=d-u,v=d+u;U[0]=l(e,i,r,_),U[1]=l(t,n,a,_);var g=f.distSquare(U,V);if(_>=0&&c>g)d=_,c=g;else{b[0]=l(e,i,r,v),b[1]=l(t,n,a,v);var x=f.distSquare(b,V);if(1>=v&&c>x)d=v,c=x;else u*=.5}}if(h)h[0]=l(e,i,r,d),h[1]=l(t,n,a,d);return Math.sqrt(c)}var f=require("./vector"),m=1e-4,g=Math.sqrt(3),y=1/3,V=f.create(),U=f.create(),b=f.create();return{cubicAt:i,cubicDerivativeAt:n,cubicRootAt:r,cubicExtrema:a,cubicSubdivide:o,cubicProjectPoint:s,quadraticAt:l,quadraticDerivativeAt:h,quadraticRootAt:d,quadraticExtremum:u,quadraticSubdivide:c,quadraticProjectPoint:p}});