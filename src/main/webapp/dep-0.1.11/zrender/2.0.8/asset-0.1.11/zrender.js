define("zrender/zrender",["require","./dep/excanvas","./tool/util","./tool/log","./tool/guid","./Handler","./Painter","./Storage","./animation/Animation","./tool/env"],function(require){function e(e){return function(){for(var t=e.animatingElements,i=0,n=t.length;n>i;i++)e.storage.mod(t[i].id);if(t.length||e._needsRefreshNextFrame)e.refresh()}}require("./dep/excanvas");var t=require("./tool/util"),i=require("./tool/log"),n=require("./tool/guid"),r=require("./Handler"),a=require("./Painter"),o=require("./Storage"),s=require("./animation/Animation"),l={},h={};h.version="2.0.8",h.init=function(e){var t=new d(n(),e);return l[t.id]=t,t},h.dispose=function(e){if(e)e.dispose();else{for(var t in l)l[t].dispose();l={}}return h},h.getInstance=function(e){return l[e]},h.delInstance=function(e){return delete l[e],h};var d=function(t,i){this.id=t,this.env=require("./tool/env"),this.storage=new o,this.painter=new a(i,this.storage),this.handler=new r(i,this.storage,this.painter),this.animatingElements=[],this.animation=new s({stage:{update:e(this)}}),this.animation.start();var n=this;this.painter.refreshNextFrame=function(){n.refreshNextFrame()},this._needsRefreshNextFrame=!1;var n=this,l=this.storage,h=l.delFromMap;l.delFromMap=function(e){var t=l.get(e);n.stopAnimation(t),h.call(l,e)}};return d.prototype.getId=function(){return this.id},d.prototype.addShape=function(e){return this.addElement(e),this},d.prototype.addGroup=function(e){return this.addElement(e),this},d.prototype.delShape=function(e){return this.delElement(e),this},d.prototype.delGroup=function(e){return this.delElement(e),this},d.prototype.modShape=function(e,t){return this.modElement(e,t),this},d.prototype.modGroup=function(e,t){return this.modElement(e,t),this},d.prototype.addElement=function(e){return this.storage.addRoot(e),this._needsRefreshNextFrame=!0,this},d.prototype.delElement=function(e){return this.storage.delRoot(e),this._needsRefreshNextFrame=!0,this},d.prototype.modElement=function(e,t){return this.storage.mod(e,t),this._needsRefreshNextFrame=!0,this},d.prototype.modLayer=function(e,t){return this.painter.modLayer(e,t),this._needsRefreshNextFrame=!0,this},d.prototype.addHoverShape=function(e){return this.storage.addHover(e),this},d.prototype.render=function(e){return this.painter.render(e),this._needsRefreshNextFrame=!1,this},d.prototype.refresh=function(e){return this.painter.refresh(e),this._needsRefreshNextFrame=!1,this},d.prototype.refreshNextFrame=function(){return this._needsRefreshNextFrame=!0,this},d.prototype.refreshHover=function(e){return this.painter.refreshHover(e),this},d.prototype.refreshShapes=function(e,t){return this.painter.refreshShapes(e,t),this},d.prototype.resize=function(){return this.painter.resize(),this},d.prototype.animate=function(e,n,r){if("string"==typeof e)e=this.storage.get(e);if(e){var a;if(n){for(var o=n.split("."),s=e,l=0,h=o.length;h>l;l++)if(s)s=s[o[l]];else;if(s)a=s}else a=e;if(!a)return void i('Property "'+n+'" is not existed in element '+e.id);var d=this.animatingElements;if(null==e.__animators)e.__animators=[];var u=e.__animators;if(0===u.length)d.push(e);var c=this.animation.animate(a,{loop:r}).done(function(){if(u.splice(e.__animators.indexOf(c),1),0===u.length){var i=t.indexOf(d,e);d.splice(i,1)}});return u.push(c),c}else i("Element not existed")},d.prototype.stopAnimation=function(e){if(e.__animators){for(var t=e.__animators,i=t.length,n=0;i>n;n++)t[n].stop();if(i>0){var r=this.animatingElements;r.splice(r.indexOf(e),1)}t.length=0}return this},d.prototype.clearAnimation=function(){return this.animation.clear(),this.animatingElements.length=0,this},d.prototype.showLoading=function(e){return this.painter.showLoading(e),this},d.prototype.hideLoading=function(){return this.painter.hideLoading(),this},d.prototype.getWidth=function(){return this.painter.getWidth()},d.prototype.getHeight=function(){return this.painter.getHeight()},d.prototype.toDataURL=function(e,t,i){return this.painter.toDataURL(e,t,i)},d.prototype.shapeToImage=function(e,t,i){var r=n();return this.painter.shapeToImage(r,e,t,i)},d.prototype.on=function(e,t,i){return this.handler.on(e,t,i),this},d.prototype.un=function(e,t){return this.handler.un(e,t),this},d.prototype.trigger=function(e,t){return this.handler.trigger(e,t),this},d.prototype.clear=function(){return this.storage.delRoot(),this.painter.clear(),this},d.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.animatingElements=this.storage=this.painter=this.handler=null,h.delInstance(this.id)},h}),define("zrender",["zrender/zrender"],function(e){return e});