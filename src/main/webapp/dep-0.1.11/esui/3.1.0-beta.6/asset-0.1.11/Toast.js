define("esui/Toast",["require","./lib","./Control","./painters","./main"],function(require){function e(){a.apply(this,arguments)}function t(){var e=require("./main").getConfig("uiClassPrefix"),t=e+"-toast-collection-area",i=document.getElementById(t);if(!i)i=document.createElement("div"),i.id=t,this.helper.addPartClasses("collection-area",i),document.body.appendChild(i);return i}function i(i){return function(o,r){if("show"===i)i="normal";r=n.extend({content:o},r),r.messageType=r.messageType||i;var s=new e(r);return a.prototype.hide.apply(s),s.appendTo(t.call(s)),s}}var n=require("./lib"),a=require("./Control");e.defaultProperties={duration:3e3,messageType:"normal",disposeOnHide:!0},e.prototype.type="Toast",e.prototype.initOptions=function(t){var i={};if(n.extend(i,e.defaultProperties,t),null==i.content)i.content=this.main.innerHTML;this.setProperties(i)},e.prototype.initStructure=function(){this.main.innerHTML=this.helper.getPartHTML("content","p")},e.prototype.repaint=require("./painters").createRepaint(a.prototype.repaint,{name:"content",paint:function(e,t){var i=e.main.firstChild;i.innerHTML=t}},{name:"messageType",paint:function(e){e.helper.addPartClasses(e.messageType)}}),e.prototype.show=function(){if(!this.helper.isInStage("DISPOSED")){if(!this.main.parentElement&&!this.main.parentNode)this.appendTo(t.call(this));if(this.isHidden())if(a.prototype.show.apply(this,arguments),this.fire("show"),clearTimeout(this.timer),!isNaN(this.duration)&&1/0!==this.duration)this.timer=setTimeout(n.bind(this.hide,this),this.duration)}},e.prototype.hide=function(){if(!this.isHidden())if(a.prototype.hide.apply(this,arguments),clearTimeout(this.timer),this.fire("hide"),this.disposeOnHide)this.dispose()},e.prototype.dispose=function(){if(clearTimeout(this.timer),!this.helper.isInStage("DISPOSED"))n.removeNode(this.main),a.prototype.dispose.apply(this,arguments)};var o=["show","info","alert","error","success"];for(var r in o)if(o.hasOwnProperty(r)){var s=o[r];e[s]=i(s)}return n.inherits(e,a),require("./main").register(e),e});