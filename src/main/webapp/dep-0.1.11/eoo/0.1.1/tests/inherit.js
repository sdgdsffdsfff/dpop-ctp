describe("X.class Inherit Test",function(){var e={superSProp1:1,superSProp2:2,supersfn1:function(){return this.superSProp1},supersfn2:function(){return this.superSProp2},seach:function(e,t){for(var i=0;i<e.length;++i)t.call(e,e[i],i,e)},splus:function(){var e=0;return this.each(arguments,function(t){e+=t}),e}},t={sub1SProp1:1,sub1SProp2:2,sub1sfn1:function(){return this.splus(this.supersfn1()+this.sub1SProp1)},sub1sfn2:function(){return this.splus(this.supersfn2()+this.sub1SProp2)},sminus:function(){var e=0;return this.each(arguments,function(t){e-=t}),e}},i={sub2SProp1:1,sub2SProp2:2,sub2sfn1:function(){return this.splus(this.sub1sfn1()+this.sub2SProp1)},sub2sfn2:function(){return this.splus(this.sub1sfn2()+this.sub2SProp2)},smulti:function(){var e=1;return this.each(arguments,function(t){e*=t}),e}},n=X.Class.create({constructor:function(e,t){this.superProp1=e,this.superProp2=t},__statics:e,fn1:function(){return this.superProp1},fn2:function(){return this.superProp2},each:function(e,t){for(var i=0;i<e.length;++i)t.call(e,e[i],i,e)},plus:function(){var e=0;return this.each(arguments,function(t){e+=t}),e},toString:function(){return this.plus(this.fn1(),this.fn2())}}),a=X.Class(n,{constructor:function(e,t,i,n){this.$super(arguments),this.sub1Prop1=i,this.sub1Prop2=n},__statics:t,fn1:function(){return this.plus(this.$super(arguments)+this.sub1Prop1)},fn2:function(){return this.plus(this.$super(arguments)+this.sub1Prop2)},minus:function(){var e=0;return this.each(arguments,function(t){e-=t}),e}}),o=X.Class(a,{constructor:function(e,t,i,n,a,o){this.$super(arguments),this.sub2Prop1=a,this.sub2Prop2=o},__statics:i,fn1:function(){return this.plus(this.$super(arguments)+this.sub2Prop1)},fn2:function(){return this.plus(this.$super(arguments)+this.sub2Prop2)},multi:function(){var e=1;return this.each(arguments,function(t){e*=t}),e},toString:function(){return this.plus(this.fn1(),this.fn2())}}),s=new n(1,2),r=new a(1,2,3,4),l=new o(1,2,3,4,5,6);describe("One level inheritance test",function(){it("Sub1's $self is set",function(){expect(a.prototype.$self).to.equal(a)}),it("Sub1's __super is equal to Super",function(){expect(a.__super).to.equal(n)}),it("sub1's $super is called",function(){expect(r.superProp1).to.equal(1),expect(r.superProp2).to.equal(2)}),it("sub1's inherited methods from Super are set",function(){expect(r.each).to.equal(r.$self.__super.prototype.each),expect(r.each).to.equal(s.each),expect(r.plus).to.equal(r.$self.__super.prototype.plus),expect(r.plus).to.equal(s.plus)}),it("sub1's static properties are set",function(){for(var e in t)expect(a[e]).to.equal(t[e])}),it("sub1's inherited static properties are set",function(){for(var t in e)expect(a[t]).to.equal(e[t])}),it("sub1's own properties are set",function(){expect(r.sub1Prop1).to.equal(3),expect(r.sub1Prop2).to.equal(4)}),it("sub1's own methods are set",function(){expect(r.fn1).to.equal(a.prototype.fn1),expect(r.fn2).to.equal(a.prototype.fn2),expect(r.minus).to.equal(a.prototype.minus)}),it("Super constructor method is called",function(){expect(r.superProp1).to.equal(1),expect(r.superProp2).to.equal(2)})}),describe("Multiple level inheritance test",function(){it("Sub2's $self is set",function(){expect(o.prototype.$self).to.equal(o)}),it("Sub2's __super is equal to Super",function(){expect(o.__super).to.equal(a)}),it("sub2's $super is called",function(){expect(l.superProp1).to.equal(1),expect(l.superProp2).to.equal(2),expect(l.sub1Prop1).to.equal(3),expect(l.sub1Prop2).to.equal(4)}),it("sub2's inherited methods from Super are set",function(){expect(l.each).to.equal(l.$self.__super.__super.prototype.each),expect(l.each).to.equal(s.each)}),it("sub2's inherited methods from Sub1 are set",function(){expect(l.minus).to.equal(l.$self.__super.prototype.minus),expect(l.minus).to.equal(r.minus)}),it("sub2's static properties are set",function(){for(var e in i)expect(o[e]).to.equal(i[e])}),it("sub2's inherited static properties are set",function(){for(var i in e)expect(o[i]).to.equal(e[i]);for(var i in t)expect(o[i]).to.equal(t[i])}),it("sub2's own properties are set",function(){expect(l.sub2Prop1).to.equal(5),expect(l.sub2Prop2).to.equal(6)}),it("sub2's own methods are set",function(){expect(l.fn1).to.equal(o.prototype.fn1),expect(l.fn2).to.equal(o.prototype.fn2),expect(l.multi).to.equal(o.prototype.multi)}),it("sub2's $self is set",function(){expect(l.$self).to.equal(o)}),it("Super constructor method is called",function(){expect(l.superProp1).to.equal(1),expect(l.superProp2).to.equal(2)}),it("Sub1 constructor method is called",function(){expect(l.sub1Prop1).to.equal(3),expect(l.sub1Prop2).to.equal(4)})}),describe("Inherited $super call test",function(){it("Super's instance methods are called right",function(){expect(s.fn1()).to.equal(s.superProp1),expect(s.fn2()).to.equal(s.superProp2),expect(s.plus(s.fn1(),s.fn2())).to.equal(s.superProp1+s.superProp2)}),it("Sub1's instance methods are called right",function(){expect(r.fn1()).to.equal(r.superProp1+r.sub1Prop1),expect(r.fn2()).to.equal(r.superProp2+r.sub1Prop2),expect(r.plus(s.fn1(),s.fn2())).to.equal(s.fn1()+s.fn2()),expect(r.minus(s.fn1(),s.fn2())).to.equal(-s.fn1()-s.fn2())}),it("Sub2's instance methods are called right",function(){expect(l.fn1()).to.equal(r.fn1()+l.sub2Prop1),expect(l.fn2()).to.equal(r.fn2()+l.sub2Prop2),expect(l.plus(r.fn1(),r.fn2())).to.equal(r.fn1()+r.fn2()),expect(l.minus(r.fn1(),r.fn2())).to.equal(-r.fn1()-r.fn2()),expect(l.multi(r.fn1(),r.fn2())).to.equal(r.fn1()*r.fn2())})})});