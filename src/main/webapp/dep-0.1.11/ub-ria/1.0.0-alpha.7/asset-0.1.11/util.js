define("ub-ria/util",["require","underscore"],function(require){var e=require("underscore"),t={},i={};return i.purify=function n(i,a,r){a=a||t;var o={};return e.each(i,function(e,t){var i=null==e||""===e,s=a.hasOwnProperty(t)&&a[t]===e;if(!i&&!s)if(r&&"object"==typeof e)o[t]=n(e,a[t],r);else o[t]=e}),o},i.trim=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},i.pascalize=function(e){if(e+="",/^[A-Z\-_]$/.test(e))e=e.toLowerCase();return e=e.replace(/[\s-\/_]+(.)/g,function(e,t){return t.toUpperCase()}),e=e.charAt(0).toUpperCase()+e.slice(1)},i.pascalize=e.memoize(i.pascalize),i.camelize=function(e){return e=i.pascalize(e),e.charAt(0).toLowerCase()+e.slice(1)},i.camelize=e.memoize(i.camelize),i.dasherize=function(e){if(e=i.pascalize(e),e=e.replace(/[A-Z]{2,}$/g,function(e){return e.charAt(0)+e.slice(1).toLowerCase()}),e=e.replace(/[A-Z]{2,}/g,function(e){return e.charAt(0)+e.slice(1,-1).toLowerCase()+e.charAt(e.length-1)}),e=e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}),"-"===e.charAt(0))e=e.substring(1);return e},i.dasherize=e.memoize(i.dasherize),i.constlize=function(e){return e=i.pascalize(e),e.toUpperCase()},i.constlize=e.memoize(i.constlize),i.pluralize=function(e){return e.replace(/y$/,"ie")+"s"},i.pluralize=e.memoize(i.pluralize),i.formatNumber=function(e,t,i,n){if("number"!=typeof arguments[1])n=arguments[2],i=arguments[1],t=0;if(n=n||"",i=i||"",null==e||isNaN(e))return n+i;e=parseFloat(e).toFixed(t);var a=e.split("."),r=a[0],o=a[1];r=r.replace(/(\d)(?=(?:\d{3})+$)/g,"$1,");var s=n+r;if(o)s+="."+o;return s},i.pad=function(e,t,i){e+="";var n=i-e.length;if(n>0){var a=new Array(n+1).join(t);return a+e}else return e},i.padRight=function(e,t,i){e+="";var n=i-e.length;if(n>0){var a=new Array(n+1).join(t);return e+a}else return e},i.deepClone=function(t){if(!e.isObject(t)||e.isFunction(t)||e.isRegExp(t))return t;if(e.isArray(t))return e.map(t,i.deepClone);var n={};return e.each(t,function(e,t){n[t]=i.deepClone(e)}),n},i});