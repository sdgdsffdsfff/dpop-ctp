define("ub-ria/mvc/FormView",["require","er/util","./BaseView","esui/validator/Validity","esui/validator/ValidityState"],function(require){function e(){a.apply(this,arguments);var e={"form:submit":n,"cancel:click":t};this.addUIEvents(e)}function t(){this.fire("cancel")}function n(){this.fire("submit")}var i=require("er/util"),a=require("./BaseView");return i.inherits(e,a),e.prototype.getEntity=function(){return this.getFormData()},e.prototype.notifyErrors=function(e){for(var t=require("esui/validator/Validity"),n=require("esui/validator/ValidityState"),i=this.get("form"),a=0;a<e.fields.length;a++){var r=e.fields[a],o=new n(!1,r.message),s=new t;s.addState("server",o);var l=i.getInputControls(r.field)[0];if(l&&"function"==typeof l.showValidity)l.showValidity(s)}},e.prototype.waitCancelConfirm=function(e){this.waitConfirm(e)},e.prototype.disableSubmit=function(){if(this.viewContext)this.getGroup("submit").disable()},e.prototype.enableSubmit=function(){if(this.viewContext)this.getGroup("submit").enable()},e.prototype.getFormData=function(){var e=this.get("form");return e?e.getData():{}},e});