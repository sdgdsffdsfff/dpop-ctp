define("ub-ria/mvc/BaseView",["require","underscore","er/util","ef/UIView","er/Deferred"],function(require){function e(){i.apply(this,arguments)}var t=require("underscore"),n=require("er/util"),i=require("ef/UIView");return n.inherits(e,i),e.prototype.addUIEvents=function(e){var n=[e];t.each(e,function(i,a){if(t.isArray(i)){for(;i.length>1;){var r={};r[a]=i.splice(-1)[0],n.push(r)}if(i.length)e[a]=i.splice(-1)[0]}});var i=this.uiEvents;this.uiEvents=i&&[].concat(i)||[],this.uiEvents=this.uiEvents.concat(n)},e.prototype.getUIEventsCollection=function(){var e=this.uiEvents;return e&&[].concat(e)||[]},e.prototype.bindEvents=function(){t.each(this.getUIEventsCollection(),function(e){this.uiEvents=e,i.prototype.bindEvents.apply(this,arguments)},this)},e.prototype.addUIProperties=function(e){this.uiProperties=this.uiProperties||{};var n=this.uiProperties;t.each(e,function(e,i){if(n.hasOwnProperty(i))t.extend(n[i],e);else n[i]=e})},e.prototype.getUIProperties=function(){return this.uiProperties||{}},e.prototype.getTemplateName=function(){var e=i.prototype.getTemplateName.apply(this,arguments);if(this.model&&this.model.get("isChildAction"))e+="Main";return e},e.prototype.waitConfirm=function(){var e=this.confirm.apply(this,arguments),t=require("er/Deferred"),n=new t;return e.on("ok",n.resolver.resolve),e.on("cancel",n.resolver.reject),n.promise},e.prototype.waitActionDialog=function(){var e=this.popActionDialog.apply(this,arguments),t=require("er/Deferred"),n=new t;return e.on("actionloaded",n.resolver.resolve),e.on("actionloadfail",n.resolver.reject),e.on("actionloadabort",n.resolver.reject),n.promise},e});