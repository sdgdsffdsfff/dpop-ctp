define("ub-ria/ui/extension/WordCount",["require","esui/lib","esui/validator/Validity","esui/Extension","esui"],function(require){function e(){a.apply(this,arguments)}function t(){var e=this.getMaxLength(),t=this.target.getValue().length,i={max:e,current:t,available:e-t},a=i.available<0?"error":"hint",r=this.getHintMessage(i),o=new n;o.setCustomValidState(a),o.setCustomMessage(r),this.target.showValidity(o)}var i=require("esui/lib"),n=require("esui/validator/Validity"),a=require("esui/Extension");return e.prototype.type="WordCount",e.prototype.initialTemplate="最多可输入${available}个字符",e.prototype.remainingTemplate="还可输入${available}个字符",e.prototype.exceededTemplate="已超出${available}个字符",e.prototype.getHintMessage=function(e){var t;if(!e.current)t=this.initialTemplate;else if(e.available>=0)t=this.remainingTemplate;else t=this.exceededTemplate,e.available=-e.available;return i.format(t,e)},e.prototype.getMaxLength=function(){if(-1===+this.target.get("maxLength"))return this.target.get("length");else return this.target.get("maxLength")},e.prototype.activate=function(){var e=this.getMaxLength();if(e)this.target.on("input",t,this),this.target.on("afterrender",t,this);a.prototype.activate.apply(this,arguments)},e.prototype.inactivate=function(){this.target.un("input",t,this),this.target.un("afterrender",t,this),a.prototype.inactivate.apply(this,arguments)},i.inherits(e,a),require("esui").registerExtension(e),e});