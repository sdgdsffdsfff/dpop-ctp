define("ub-ria/ui/extension/ExternSearch",["require","esui/lib","esui/Extension","esui"],function(require){function e(e){e=e||{},r.apply(this,arguments)}function t(){this.target.search()}function i(e){var t=this.resolveControl(),i={value:t.getValue()};if(t.dataKeys)i.keys=a.splitTokenList(t.dataKeys);e.filterData.push(i),e.preventDefault()}function n(){var e=this.resolveControl();e.set("text","")}var a=require("esui/lib"),r=require("esui/Extension");return e.prototype.type="ExternSearch",e.prototype.searchBox=null,e.prototype.resolveControl=function(){var e;if(!this.searchBox&&this.searchbox)this.searchBox=this.searchbox;if(this.searchBox){if(e=this.target.viewContext.get(this.searchBox),!e&&this.active)throw new Error('Cannot find related searchBox "#'+e+'" in view context')}else throw new Error("searchBox cannot be null");return e},e.prototype.activate=function(){var e=this.resolveControl();e.on("search",t,this),this.target.on("clearquery",n,this),this.target.on("search",i,this),r.prototype.activate.apply(this,arguments)},e.prototype.inactivate=function(){r.prototype.inactivate.apply(this,arguments);var e=this.resolveControl();if(e)e.un("search",t,this);this.target.un("clearquery",n,this),this.target.un("search",i,this)},a.inherits(e,r),require("esui").registerExtension(e),e});